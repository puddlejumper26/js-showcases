<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>3_8_autoplay_hor_simple</title>
<style>
*{margin: 0;padding: 0;}
li{list-style: none;}

 
.btn_left{display: block;width: 68px;height: 68px;background: url(img/autoplay2/btn.jpg) no-repeat -70px -69px;position: absolute;top: 0px;left: 200px; z-index: 1;}
.btn_left:hover{background: url(img/autoplay2/btn.jpg) no-repeat -70px 0;}
.btn_right{display: block;width: 68px;height: 68px;background: url(img/autoplay2/btn.jpg) no-repeat 1px -69px; position: absolute;top: 0px; right: 200px;z-index: 1;}
.btn_right:hover{background:url(img/autoplay2/btn.jpg) no-repeat 1px 0;}

#div1{width: 712px; height:108px;margin: 100px auto;position: relative;background: red;overflow: hidden;}
#div1 ul{position:absolute;left: 0;top: 0}
#div1 ul li{float: left;width:178px;height:110px;};
#div1 ul li img{top:0;}
#div1 ul li img:hover{position:relative;top:-2px;cursor: pointer;}

</style>
</head>
<body>

    <a href="javascript:;" class="btn_left"></a>
    <a href="javascript:;" class="btn_right"></a>  

<div id="div1">
    <ul>
        <li><img src="img/autoplay2/1.jpg"></li>
        <li><img src="img/autoplay2/2.jpg"></li>
        <li><img src="img/autoplay2/3.jpg"></li>
        <li><img src="img/autoplay2/4.jpg"></li>
    </ul>
</div> 

<script>
    
    var oDiv=document.getElementById('div1');
    var oUl=oDiv.getElementsByTagName('ul')[0];
    var aLi=oUl.getElementsByTagName('li');

    var speed=-2;

    oUl.innerHTML+=oUl.innerHTML;
    oUl.style.width=aLi[0].offsetWidth*aLi.length+'px';

    function move() {
        if(oUl.offsetLeft<-oUl.offsetWidth/2)
        {
            oUl.style.left='0';
        }
        if(oUl.offsetLeft>0)
        {
            oUl.style.left= -oUl.offsetWidth/2 +'px';
        }
        oUl.style.left=oUl.offsetLeft+speed+'px';
    }

    var timer = setInterval(move,30);

    oDiv.onmouseover = function()
    {
        clearInterval(timer);
    };
    oDiv.onmouseout = function()
    {
        timer=setInterval(move,30);
    };

    document.getElementsByTagName('a')[0].onmouseover=function()
    {
        speed=-2;
    }
    document.getElementsByTagName('a')[1].onmouseover=function()
    {
        speed=2;
    };

</script>

</body>
</html>