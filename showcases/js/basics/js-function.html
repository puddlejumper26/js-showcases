
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS Functions | Notes</title>
<link rel="stylesheet" href="styles/sass-basics.css">
<script src="js-function-es5.js"></script>
<style>
/* template */
    html,body{min-width:290px;color: #4d4e53;background-color: #ffffff;font-family: 'Open Sans',Arial,sans-serif;line-height: 1.5;}
    #navbar{position:fixed;min-width:290px;top:0px;left:0px;width:300px;height:100%;border-right:solid;border-color:rgba(22, 15, 0, 0.4)}
    header{color:black;font-size: 30px;margin:10px;text-align:center;font-size:1.8em;font-weight:thin;}
    .nav-head{font-weight:900;font-size: 20px;}
    .nav-subhead{font-weight:800}
    #main-doc header{text-align:left;margin:0px;}
    #navbar ul{height:88%;overflow-y:auto;overflow-x:hidden;}
    #navbar li{color: #4d4e53;border:1px solid;border-bottom-width:0px;padding:8px;padding-left:45px;list-style: none;position:relative;left:-50px;width:100%;}
    #navbar a{color: #4d4e53;text-decoration:none;cursor:pointer;} 

    .note{display:block;text-align: left; white-space: pre;position: relative;word-break: normal;word-wrap: normal;line-height: 1;background-color:rgba(228, 214, 29, 0.8);padding:5px;margin:10px;border-left-style:solid;border-left-color: rgb(51, 182, 80);border-left-width: 5px;}

    #main-doc{position: absolute;margin-left:310px;padding:20px;margin-bottom:110px;}
    section article{color: #4d4e53;margin:15px;font-size:0.96em;}
    section li {margin:15px 0px 0px 20px;}

    .code{display:block;text-align: left; white-space: pre;position: relative;word-break: normal;word-wrap: normal;line-height: 1;background-color:rgb(208, 223, 208,0.8);padding:5px;margin:10px;border-radius:5px;}

    @media only screen and (max-width: 815px) {
        /* For mobile phones: */
        #navbar ul{border:1px solid;height:207px;}
        #navbar{background-color:white;position:absolute;top:0;padding:0;margin: 0;width:100%;max-height:275px;border:none;z-index:1;
        border-bottom:2px solid;}
        #main-doc{position: relative;margin-left:0px;margin-top:270px;}
        #main-doc section {/*     padding-top: 240px; */  }
    }
    @media only screen and (max-width: 400px) {
        #main-doc{margin-left:-10px;}
       .note .code{margin-left:-20px; text-align:left;width:100%;padding:5px;padding-left:10px;padding-right:45px;min-width:233px;word-wrap:break-word;position: relative;}

    }

/* main section */


    

</style>

</head>
<body class="bodyss">
    
    <nav id="navbar">
        <header><strong>JS Basics</strong></header>
        <ul>
            <a class="nav-link nav-head" href="#forword" rel="internal">
                <li>FORWORD</li>
            </a>
            <a class="nav-link nav-head" href="#" rel="internal">
                <li>String</li>
            </a>
            <!-- <a class="nav-link nav-subhead" href="#" rel="internal">
                <li>- Function-Method</li>lo
            </a> -->
            <a class="nav-link" href="#trim" rel="internal">
                <li>-- 去除字符串空格 - trim()</li>
            </a>
            <a class="nav-link" href="#changeCase" rel="internal">
                <li>-- 字母大小写切换 - changeCase() </li>
            </a>
            <a class="nav-link" href="#repeatStr" rel="internal">
                <li>-- 字符串循环复制 - repeatStr()</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 字符串替换 - replaceAll()</li>
            </a>
            <a class="nav-link" href="#replaceStr" rel="internal">
                <li>-- 字符替换 - replaceStr()</li>
            </a>
            <a class="nav-link" href="#checkType" rel="internal">
                <li>-- 检测字符串 - checkType()</li>
            </a>
            <a class="nav-link" href="#checkPwd" rel="internal">
                <li>-- 检测密码强度 - checkPwd()</li>
            </a>
            <a class="nav-link" href="#randomWord" rel="internal">
                <li>-- 随机码（toString详解）-randomWord()</li>
            </a>
            <a class="nav-link" href="#countStr" rel="internal">
                <li>-- 查找字符串出现的次数 - countStr()</li>
            </a>
            <a class="nav-link" href="#filterStr" rel="internal">
                <li>-- 过滤字符串 - filterStr()</li>
            </a>
            <a class="nav-link" href="#formatText" rel="internal">
                <li>-- 格式化处理字符串 - formatText()</li>
            </a>
            <a class="nav-link" href="#longestWord" rel="internal">
                <li>-- 找出最长单词 - longestWord()</li>
            </a>
            <a class="nav-link" href="#titleCaseUp" rel="internal">
                <li>-- 句中单词首字母大写 - titleCaseUp()</li>
            </a>
            <a class="nav-link nav-head" href="#" rel="internal">
                <li>Array</li>
            </a>
            <a class="nav-link" href="#removeRepeatArray" rel="internal">
                <li>-- 数组去重 - removeRepeatArray()</li>
            </a>
            <a class="nav-link" href="#upsetArr" rel="internal">
                <li>-- 数组顺序打乱 - upsetArr()</li>
            </a>
            <a class="nav-link" href="#downArr" rel="internal">
                <li>-- 数组降/升序排列 - downArr()/upArr()</li>
            </a>
            <a class="nav-link" href="#maxArr" rel="internal">
                <li>-- 数组最大值最小值 - maxArr()/minArr()</li>
            </a>
            <a class="nav-link" href="#sumArr" rel="internal">
                <li>-- 数组求和，平均值 - sumArr() / covArr()</li>
            </a>
            <a class="nav-link" href="#randomOne" rel="internal">
                <li>-- 从数组中随机获取元素 - randomOne()</li>
            </a>
            <a class="nav-link" href="#getEleCount" rel="internal">
                <li>-- 返回数组（字符串）一个元素出现的次数 - getEleCount()</li>
            </a>
            <a class="nav-link" href="#getCount" rel="internal">
                <li>-- 返回数组（字符串）出现最多的几次元素和出现次数 - getCount()</li>
            </a>
            <a class="nav-link" href="#getArrayNum" rel="internal">
                <li>-- 得到n1-n2下标的数组 - getArrayNum()</li>
            </a>
            <a class="nav-link" href="#removeArrayForValue" rel="internal">
                <li>-- 筛选数组 - removeArrayForValue()</li>
            </a>
            <a class="nav-link" href="#getOptionArray" rel="internal">
                <li>-- 获取对象数组某些项 - getOptionArray()</li>
            </a>
            <a class="nav-link" href="#filterOptionArray" rel="internal">
                <li>-- 排除对象数组某些项 - filterOptionArray()</li>
            </a>
            <a class="nav-link" href="#arraySort" rel="internal">
                <li>-- 对象数组排序 - arraySort()</li>
            </a>
            <a class="nav-link" href="#steamroller" rel="internal">
                <li>-- 数组扁平化 - steamroller()</li>
            </a>
            <a class="nav-link nav-head" href="#" rel="internal">
                <li>DOM</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
        </ul>
    </nav>

    <main id="main-doc">
   
        <section class="main-section" id="forword">
            <header>FORWORD</header>
            <article>
                开发的时候应该知道，有很多常见的实例操作。比如数组去重，关键词高亮，打乱数组等。这些操作，代码一般不会很多，实现的逻辑也不会很难，因此把一些常见的操作封装成函数，调用的时候，直接调用就好！
                    
                    作者：守候i
                    链接：https://juejin.im/post/5a2a7a5051882535cd4abfce
                    来源：掘金
                    
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="trim">
            <header>Delete Space in String</header>
            <article>
<div class="note">
    //去除空格 type 1-所有空格 2-前后空格 3-前空格 4-后空格
    //ecDo.trim(' 1235asd',1)
    //result：1235asd
    //这个方法有原生的方案代替，但是考虑到有时候开发PC站需要兼容IE8，所以就还是继续保留
</div>
                <h2>ES 5</h2>
                <div class="code">
    trim:function(str,type){
        switch(type){
            case 1:
                return str.replace(/\s+/g,"");
            case 2:
                return str.replace(/(^\s*)|(\s*$)/g,"");
            case 3:
                return str.replace(/(^\s*)/g,"");
            case 4:
                return str.replace();
            default:
                return str;
        }
    },
                    
                </div>
            
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
       


        <section class="main-section" id="changeCase">
            <header>字母大小写切换</header>
            <article>
<div class="note">
    //字母大小写切换
    /*type
    1:首字母大写
    2：首页母小写
    3：大小写转换
    4：全部大写
    5：全部小写
    * */
    //changeCase('asdasd',1)
    //result：Asdasd
</div>
                <h2>ES 5</h2>
                <div class="code">
    changeCase:function(str.type){
        function ToggleCase(str){
            var itemText="";
            str.split("").forEach(
                function(item){
                    if(/^([a-z]+)/.test(item)){
                        itemText += item.toUpperCase();
                    }else if(/^([A-Z]+)/.test(item)){
                        itemText += item.toLowerCase();
                    }else{
                        itemText += item;
                    }
                }
            );
            return itemText;
        }

        switch(type){
            case 1:
                return str.replace(/\w+/g,function(word){
                    return word.substring(0,1).toUpperCase()+word.substring(1).toLowerCase();
                });
            case 2:
                return str.replace(/\w+/g,function(word){
                    return word.substring(0,1).toLowerCase()+word.substring(1).toUpperCase();
                });
            case 3:
                return ToggleCase(str);
            case 4:
                return str.toUpperCase();
            case 5:
                return str.toLowerCase();
            default:
                return str;
        }
    },
                </div>
            </article>
            <p class="nach-oben"><a href="#">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="repeatStr">
            <header>字符串循环复制</header>
            <article>
<div class="note">
    //字符串循环复制
    //repeatStr(str->字符串, count->次数)
    //repeatStr('123',3)
    //"result：123123123"
</div>
                <h2>ES 5</h2>
<div class="code">
    repeatStr:function(str,count){

        var text="";

        for(var i=0; i <= count; i++){
            text += str;
        }     

        return text;

    }
</div>
                <h2>ES 6</h2>
<div class="code">
    repeatStr:function(str,count){

        return str.repeat(count);

    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="replaceAll">
            <header>字符串替换</header>
            <article>
<div class="note">
//replaceAll('这里是上海，中国第三大城市，广东省省会，简称穗，','上海','广州')

//result："这里是广州，中国第三大城市，广东省省会，简称穗，"
</div>
<h2>ES 5</h2>
<div class="code">
    replaceAll : function(str,AFindText,ArepText){

        raRegExp = new RegExp(AFindText,'g');//这里用“i”，就只换第一个
        return str.replace(raRegExp,ArepText);

    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="replaceStr">
            <header>字符替换</header>
            <article>
<div class="note">
//replaceStr(字符串,字符格式, 替换方式,替换的字符（默认*）)
//
//replaceStr('18819322663',[3,5,3],0)
//result：188*****663
//replaceStr('asdasdasdaa',[3,5,3],1)
//result：***asdas***
//replaceStr('1asd88465asdwqe3',[5],0)
//result：*****8465asdwqe3
//replaceStr('1asd88465asdwqe3',[5],1,'+')
//result："1asd88465as+++++"
</div>        
<h2>ES 5</h2>
<div class="code">
    replaceStr:function(str,regArr,type,ARepText){
        var regtext='',
            Reg=null,
            replaceText = ARepText || '*';
        
        if(regArr.length === 3 && type === 0){

            regtext = `(\\w{' +regArr[0]+ '})\\w{` +regArr[1]+ `}(\\w{` +regArr[2]+ `})`;
            Reg = new RegExp(regtext);
            var replaceCount = this.repeatStr(replaceText,regArr[1]);
            //这里只是为了显示出现ARepText || '*'重复的次数

            return str.replace(Reg,'$1' + replaceCount + '$2');
        }
        else if(regArr.length === 3 && type ===1){

            regtext = `\\w{` + regArr[0] + `}(\\w{` +regArr[1] + `})\\w{` +regArr[2]+ `}`;
            Reg = new RegExp (regtext);
            var replaceCount1 = this.repeatStr(replaceText,regArr[0]);
            var replaceCount2 = this.repeatStr(replaceText,regArr[2]);
            return str.replace(Reg,replaceCount1 +'$1' +replaceCount2);

        }
        else if (regArr.length === 1 && type === 0){
            
            regtext = `(^\\w{` +regArr[0]+ `})`;
            Reg = new RegExp(regtext);
            var replaceCount = this.repeatStr(replaceText,regArr[0]);
            return str.replace(Reg,replaceCount);

        }
        else if (regArr.length === 1 && type === 1){
            
            regtext = `(\\w{` +regArr[0]+ `}$)`;
            Reg = new RegExp(regtext);
            var replaceCount = this.repeatStr(replaceText, regArr[0]);
            return str.replace(Reg,replaceCount);

        }
        
    }

    //这里的 $1, $2 是
    replace方法里的自带属性，https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="checkType">
            <header>检测字符串</header>
            <article>
<div class="note">
//checkType('165226226326','phone')
//result：false

// email / 24 hour / cndate / dedate / cnphone / dephone / tel / number / english / text / chinese / lower / upper / 16 colors

</div>
<h2>ES 5</h2>
<div class="code">
    checkType: function(str, type){
        switch(type){
            
            case 'email':
                return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str);
            case '24hour':
                return /^([01][0-9]|[2][0-3]):([0-5][0-9])$/.test(str);
            case 'cndate':
                return /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/.test(str);
            case 'dedate':
                return /^((0[1-9]|[12][0-9]|3[01])-0[1-9]|1[0-2])-([0-9]{4})$/.test(str);
            case 'cnphone':
                return /^1[3|4|5|7|8][0-9]{9}$/.test(str);
            case 'dephone':
                return /^1[6|7][0-9]{7}$/.test(str);
            case 'tel':
                return /^(0\d{2,3}-d{7,8})(-\d{1,4}?)$/.test(str);
            case 'number':
                return /^[0-9]+$/.test(str);
            case 'english':
                return /^[a-zA-Z]+$/.test(str);
            case 'test':
                return /^\w+$/.test(str);
            case 'chinese':
                return /^[\u4E00-\u9FA5]+$/.test(str);
            case 'lower':
                return /^[a-z]+$/.test(str);
            case 'upper':
                return /^[A-Z]+$/.test(str);
            case '16color':
                return /#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/.test(str);
            default:
                return true;

        }
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    
        <section class="main-section" id="checkPwd">
            <header>检测密码强度</header>
            <article>
<div class="note">
//checkPwd('12asdASAD')
//result：3(强度等级为3)
</div>
<h2>ES 5</h2>
<div class="code">
    checkPwd:function(str){

        var nowLv = 0;
        if(str.length < 6){
            return nowLv;
        }
        if(/[0-9]+/.test(str)){
            nowLv ++;
        }
        if(/[a-z]+/.test(str)){
            nowLv ++;
        }
        if(/[A-Z]/.test(str)){
            nowLv ++;
        }
        if(/\.|-|_/.test(str)){
            nowLv ++;
        }
        return nowLv;

    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="randomWord">
            <header>随机码（toString详解）</header>
            <article>
<div class="note">
// count取值范围0 - 36，主要是根据toString(count),不同的进制来转换成不同的结果
//randomWord(10)
//result："2584316588472575"
//randomWord(14)
//result："9b405070dd00122640c192caab84537"
//randomWord(36)
//result："83vhdx10rmjkyb9"
</div>        
<h2>ES 5</h2>
<div class="code">
    randomWord : function(count){
        return Math.random().toString(count).substring(2);
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="countStr">
            <header>查找字符串出现的次数</header>
            <article>
<div class="note">
//可能标题会有点误导，下面我就简单说明一个需求，在字符串'sad44654blog5a1sd67as9dablog4s5d16zxc4sdweasjkblogwqepaskdkblogahseiuadbhjcibloguyeajzxkcabloguyiwezxc967'中找出'blog'的出现次数。代码如下
//var
strTest='sad44654blog5a1sd67as9dablog4s5d16zxc4sdweasjkblogwqepaskdkblogahseiuadbhjcibloguyeajzxkcabloguyiwezxc967'
//countStr(strTest,'blog')
//result：6
</div>        
<h2>ES 5</h2>
<div class="code">
    countStr:function(str,strSplit){
        return str.split(strSplit).length-1;
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="filterStr">
            <header>过滤字符串</header>
            <article>
<div class="note">
//过滤字符串(html标签，表情，特殊字符)
//字符串，替换内容（special-特殊字符,html-html标签,emjoy-emjoy表情,word-小写字母，WORD-大写字母，number-数字,chinese-中文），要替换成什么，默认'',保留哪些特殊字符
//如果需要过滤多种字符，type参数使用,分割，如下栗子
//过滤字符串的html标签，大写字母，中文，特殊字符，全部替换成*,但是特殊字符'%'，'?'，除了这两个，其他特殊字符全部清除
//var str='asd 654a大蠢sasdasdASDQWEXZC6d5#%^*^&*^%^&*$\\"\'#@!()*/-())_\'":"{}? < div > < /div > < img src="" / > 啊实打实大蠢猪自行车这些课程';
// filterStr(str,'html,WORD,chinese,special','*','%?')
//result："asd 654a**sasdasd*********6d5#%^*^&*^%^&*$\"'#@!()*/-())_'":"{}?*****************"
</div>        
<h2>ES 5</h2>
<div class="code">
    filterStr:function(str,type,restr,spstr){
        var typeArr = type.split(','),
            _str=str;
        //The split() method splits a String object into an array of strings by separating the string into substrings, using a specified separator string to determine where to make each split.

        for(var i=0,len=typeArr.length; i < len;i++){

            //是否是过滤特殊符号
            if(typeArr[i]==='special'){
                var pattern,
                    regText = '$()[]{}?\|^*+./\"\'+';
                //是否有哪些特殊符号需要保留
                if(spstr){
                    var _spstr = spstr.split(""),
                        _regText="[^0-9A-Za-z\\s]"; // 其实这里直接定义"[^0-9A-Za-z\\s"后面就不需要去除最后的"]"
                        console.log('01---' + _regText);
                    
                    for (var j = 0; j < _spstr.length; j++){
                        //如果regText = '$()[]{}?\|^*+./\"\'+';中不含有_spstr[j]
                        if(regText.indexOf(_spstr[j])===-1){
                            console.log('02---' + _regText);
                            //下面这一步使用string的replace方法把_regText="[^0-9A-Za-z\\s]"最后的“]”给除去
                            _regText = _regText.replace(/]/,'');
                            _regText += _spstr[j];

                            console.log('0---' + _spstr[j])
                            console.log('03---' + _regText);
                        }
                        else{
                            _regText = _regText.replace(/]/, '');
                            _regText +='\\'+_spstr[j];
                            console.log('04---' + _regText);
                        }
                  

                    }
                    _regText += ']';
                    console.log('05---' + _regText);
                    pattern = new RegExp(_regText, 'g');
                }
                else {
                    pattern = new RegExp("[^0-9A-Za-z\\s]", 'g')
                    //[^0-9A-Za-z\s]意思就是不是数字和大小写字母的元素
                }
            }


            var _restr = restr || '';

            switch (typeArr[i]) {
                case 'special':
                    _str = _str.replace(pattern, _restr);
                    break;
                case 'html':
                    _str = _str.replace(/<\/?[^>]*>/g, _restr);
                    break;
                case 'emjoy':
                    _str = _str.replace(/[^\u4e00-\u9fa5|\u0000-\u00ff|\u3002|\uFF1F|\uFF01|\uff0c|\u3001|\uff1b|\uff1a|\u3008-\u300f|\u2018|\u2019|\u201c|\u201d|\uff08|\uff09|\u2014|\u2026|\u2013|\uff0e]/g, _restr);
                    break;
                case 'word':
                    _str = _str.replace(/[a-z]/g, _restr);
                    break;
                case 'WORD':
                    _str = _str.replace(/[A-Z]/g, _restr);
                    break;
                case 'number':
                    _str = _str.replace(/[0-9]/g, _restr);
                    break;
                case 'chinese':
                    _str = _str.replace(/[\u4E00-\u9FA5]/g, _restr);
                    break;
            }
        }
        return _str;
    },
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="formatText">
            <header>格式化处理字符串</header>
            <article>
<div class="note">
//formatText('1234asda567asd890')
//result："12,34a,sda,567,asd,890"
//formatText('1234asda567asd890',4,' ')
//result："1 234a sda5 67as d890"
//formatText('1234asda567asd890',4,'-')
//result："1-234a-sda5-67as-d890"
</div>        
<h2>ES 5</h2>
<div class="code">
    formatText:function(str,size,delimiter){
        var _size = size || 3,
            _delimiter = delimiter || ',';
        
        var regText = '\\B(?=(\\w{' + _size + '})+(?!\\w))';
        //这里不用 \\B应该也是可以的
        var reg = new RegExp(regText,'g');
        return str.replace(reg,_delimiter);
    },

        // (?=l)，表示 "l" 字符前面的位置，例如：
        // var result = "hello".replace(/(?=l)/g, '#');
        // console.log(result);
        // // => "he#l#lo"
        // (?!p) 就是 (?=p) 的反面意思，比如：
        // var result = "hello".replace(/(?!l)/g, '#');
        // console.log(result);
        // // => "#h#ell#o#
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="longestWord">
            <header>找出最长单词</header>
            <article>
<div class="note">
返回的是最长单词的字母数量
//longestWord('Find the Longest word in a String')
//result：7
//longestWord('Find|the|Longest|word|in|a|String','|')
//result：7
</div>
<h2>ES 5</h2>
<div class="code">
    longestWord:function(str,splitType){
        var _splitType = splitType || /\s+/g,
            _max = 0,
            _item ='';
        
        var strArr = str.split(_splitType);
        strArr.forEach(function(item){
            if(_max < item.length){
                _max = item.length;
                _item = item;
            }
        })
        return {word:_item,length:_max};
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="titleCaseUp">
            <header>句中单词首字母大写</header>
            <article>
<div class="note">
//titleCaseUp('this is a title')
//"This Is A Title"
</div>   
<h2>ES 5</h2>
<div class="code">
    titleCaseUp:function(str,splitType){
        var _splitType = splitType || /\s+/g;
        var strArr = str.split(_splitType),
            result = "",
            _this = this;
        
        strArr.forEach(function(item){
            result += _this.changeCase(item,1)+' ';
        })
        
        return this.trim(result,4);
        //trim 4, 是去掉后空格
    }
</div>
        </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    
        <section class="main-section" id="removeRepeatArray">
            <header>数组去重</header>
            <article>
<h2>ES 5</h2>
<div class="code">
    removeRepeatArray:function(arr){
        return arr.filter(function(item,index,self){
            console.log(self);//传入的数组
            console.log(item); // 数组中的每一个元素
            console.log(index); // 每个元素的位置
            return self.indexOf(item) === index;
        })
    }
        //The filter() method creates a new array with all elements that pass the test implemented by the provided function.
</div>
<h2>ES 6</h2>
    removeRepeatArray:function(arr){
        return [...new Set(arr)];
    }
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="upsetArr">
            <header>数组顺序打乱</header>
            <article>
<h2>ES 5</h2>
<div class="code">
    upsetArr:function(arr){
        return arr.sort(function(){
            return Math.random()-0.1;
        });
    }

    //The sort() method sorts the elements of an array in place and returns the sorted array. The default sort order is
    built upon converting the elements into strings, then comparing their sequences of UTF-16 code units values.
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="downArr">
            <header>数组降/升序排列</header>
            <article>
<h2>降序 downArr</h2>
<div class="code">
    downArr:function(arr){
        return arr.sort(function(n1,n2){
            if(n1>=n2){return n2-n1;}
        })
    }
</div>
<h2>升序 upArr</h2>
<div class="code">
    upArr:function(arr){
        return arr.sort(function(n1,n2){
            if(n1<=n2){return n1-n2;}
        })
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="maxArr">
            <header>数组最大值最小值</header>
            <article>
<div class="code">
    maxArr: function(arr){
        return Math.max.apply(null,arr);
    }
</div>   
<div class="code">
    minArr: function(arr){
        return Math.min.apply(null,arr);
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="sumArr">
            <header>数组求和，平均值</header>
            <article>
<div class="code">
    //求和
    sumArr:function(arr){
        return arr.reduce(function(pre,cur){
            return pre+cur;
        })
    },
</div>    
<div class="code">
    //数组平均值,小数点可能会有很多位，这里不做处理，处理了使用就不灵活！
    covArr: function (arr) {
        return this.sumArr(arr) / arr.length;
    },
</div> 
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="randomOne">
            <header>从数组中随机获取元素</header>
            <article>
<h2>ES 5</h2>
<div class="code">
    randomOne : function(arr){
        return arr[Math.floor(Math.random()*arr.length)];
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="getEleCount">
            <header>返回数组（字符串）一个元素出现的次数</header>
            <article>
<div class="note">
        //getEleCount('asd56+asdasdwqe','a')
        //result：3
        //getEleCount([1,2,3,4,5,66,77,22,55,22],22)
        //result：2
</div>     
<h2>ES 5</h2>  
<div class="code">
    getEleCount: function(obj,ele){
        var num = 0;
        for(var i=0;i < obj.length;i++){
            if(ele === obj[i]){
                num ++;
            }
        }
        return num;
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    
        <section class="main-section" id="getCount">
            <header>返回数组（字符串）出现最多的几次元素和出现次数 ###</header>
            <article>
<div class="note">
    //arr, rank->长度，默认为数组长度，ranktype，排序方式，默认降序
    //返回值：el->元素，count->次数

    //getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2])
    //默认情况，返回所有元素出现的次数
    //result：[{"el":"2","count":6},{"el":"1","count":4},{"el":"3","count":2},{"el":"4","count":1},{"el":"5","count":1},{"el":"6","count":1}]

    //getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2],3)
    //传参（rank=3），只返回出现次数排序前三的
    //result：[{"el":"2","count":6},{"el":"1","count":4},{"el":"3","count":2}]

    //getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2],null,1)
    //传参（ranktype=1,rank=null），升序返回所有元素出现次数
    //result：[{"el":"6","count":1},{"el":"5","count":1},{"el":"4","count":1},{"el":"3","count":2},{"el":"1","count":4},{"el":"2","count":6}]

    //getCount([1,2,3,1,2,5,2,4,1,2,6,2,1,3,2],3,1)
    //传参（rank=3，ranktype=1），只返回出现次数排序（升序）前三的
    //result：[{"el":"6","count":1},{"el":"5","count":1},{"el":"4","count":1}]
</div>
<h2>ES 5</h2>            
<div class="code">
    getCount: function(arr,rank,ranktype){
        var obj={},
            k,arr1 =[];
       
        //记录每一元素出现的次数
        for(var i=0;i < arr.length;i++){
            k = arr[i];
            //注意这里的 obj 是一个对象，所以表达方式是 obj={"a":n1,"b":n2,...}
            //所以这里obj[k]的值是obj 对象中的“k”所对应的值
            if(obj[k]){
                obj[k]++;
            }else{
                obj[k] = 1;
            }
        }
        //上面这一步做完，就能够把所有的元素都添加到obj对象里，并且每个元素的总个数和元素本身都一一对应上了。

        //保存结果{el-'元素'，count-出现次数}
        for(var o in obj){
            arr1.push({el:o,count:obj[o]});
        }

        //排序（降序）
        arr1.sort(function(n1,n2){
            return n2.count - n1.count;
        });

        //如果ranktype为1，则为升序，反转数组
        if(ranktype === 1){
            arr1 = arr1.revers();
        }

        var rank1 = rank || arr1.length;
        //slice 是截取括号里开头结尾的数组元素，并组成一个新的数组
        return arr1.slice(0,rank1);
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="getArrayNum">
            <header>得到n1-n2下标的数组</header>
            <article>
<div class="note">
    //就是 是用 slice 的功能

    //getArrayNum([0,1,2,3,4,5,6,7,8,9],5,9)
    //result：[5, 6, 7, 8, 9]
    //getArrayNum([0,1,2,3,4,5,6,7,8,9],2) //不传第二个参数,默认返回从n1到数组结束的元素
    //result：[2, 3, 4, 5, 6, 7, 8, 9]
</div>    
<h2>ES 5</h2>
<div class="code">
    getArrayNum:function(arr,n1,n2){
        return arr.slice(n1,n2);
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="removeArrayForValue">
            <header>筛选数组</header>
            <article>
<div class="note">
        //删除值为'val'的数组元素
        //removeArrayForValue(['test','test1','test2','test','aaa'],'test',1)
        //result：["aaa"] 带有'test'的都删除
        //removeArrayForValue(['test','test1','test2','test','aaa'],'test')
        //result：["test1", "test2", "aaa"] //数组元素的值全等于'test'才被删除
</div>
<h2> ES 5</h2>
<div class="code">
    removeArrayForValue:function(arr,val,type){
        return arr.filter(function(item){
            console.log(item);//传入数组的每一个元素
            return type?item.indexOf(val)===-1:item!=val;
        })
    }
    //这里的type只要为true，就可以进行模糊筛选
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="getOptionArray">
            <header>获取对象数组某些项</header>
            <article>
<div class="note">
    //var arr=[{a:1,b:2,c:9},{a:2,b:3,c:5},{a:5,b:9},{a:4,b:2,c:5},{a:4,b:5,c:7}]
    //getOptionArray(arr,'a,c')
    //result：[{a:1,c:9},{a:2,c:5},{a:5,c:underfind},{a:4,c:5},{a:4,c:7}]
    //getOptionArray(arr,'b')
    //result：[2, 3, 9, 2, 5]
</div>        
<h2>
    ES 5
</h2>
<div class="code">
    getOptionArray:function(arr,keys){
        var newArr=[];
        if(!keys){
            return arr;
        }
        var _keys=keys.split(",");
        var newArrOne ={};
    
        //是否只是需要获取某一项的值
        if(_keys.length === 1){
            for(var i=0;i < arr.length;i++){
                newArr.push(arr[i][keys]);
            }
            return newArr;
        }
        for(var i=0;i < arr.length;i++){
            newArrOne={};
            for(var j=0;j < keys.length;j++){
                newArrOne[_keys[j]]=arr[i][_keys[j]];
            }
            newArr.push(newArrOne);
        }
        return newArr;
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="filterOptionArray">
            <header>排除对象数组某些项</header>
            <article>
<div class="note">
//var arr=[{a:1,b:2,c:9},{a:2,b:3,c:5},{a:5,b:9},{a:4,b:2,c:5},{a:4,b:5,c:7}]
//filterOptionArray(arr,'a')
//result：[{b:2,c:9},{b:3,c:5},{b:9},{b:2,c:5},{b:5,c:7}]
//filterOptionArray(arr,'a,c')
//result：[{b:2},{b:3},{b:9},{b:2},{b:5}]
</div>     
<h2>ES 5</h2>
<div class="code">
    filterOptionArray:function(arr,keys){
        var newArr=[];
        var _keys=keys.split(",");
        var newArrOne={};

        for(var i=0;i < arr.length; i++){
            newArrOne={};
            for(var key in arr[i]){
                //如果key不存在排除keys里面,添加数据
                if(_keys.indexOf(key)===-1){
                    newArrOne[key] = arr[i][key];
                }
            }
            newArr.push(newArrOne);
        }
        return newArr;
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="arraySort">
            <header>对象数组排序</header>
            <article>
<div class="note">
    //var arr=[{a:1,b:2,c:9},{a:2,b:3,c:5},{a:5,b:9},{a:4,b:2,c:5},{a:4,b:5,c:7}]
    //arraySort(arr,'a,b')a是第一排序条件，b是第二排序条件
    //result：[{"a":1,"b":2,"c":9},{"a":2,"b":3,"c":5},{"a":4,"b":2,"c":5},{"a":4,"b":5,"c":7},{"a":5,"b":9}]
</div>
<h2>Es 5</h2>
<div class="code">
    arraySort:function(arr,sortText){
        if(!sortText){
            return arr;
        }

        var _sortText = sortText.split(",").reverse();
        var _arr = arr.slice(0);

        for(var i=0;i< _sortText.length; i++){
            _arr.sort(function(n1,n2){
                //这里同样也是对象，所以可以通过n1[]来调用元素
                return n1[_sortText[i]]-n2[_sortText[i]];
            })
        }
        return _arr;
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="steamroller">
            <header>数组扁平化</header>
            <article>
<div class="note">
    // steamroller([1,2, [4,5, [1,23]]])
    //[1, 2, 4, 5, 1, 23]
</div>
<h2>ES 5</h2>
<div class="code">
    steamroller:function(arr){
        var newArr=[];
        var _this = this;

        for(var i=0;i < arr.length;i++){
            if(Array.isArray(arr[i])){
                // 如果是数组，调用(递归)steamroller 将其扁平化
                // 然后再 push 到 newArr 中
                newArr.push.apply(newArr,_this.stramroller(arr[i]));
            }else{
                // 不是数组直接 push 到 newArr 中
                newArr.push(arr[i]);
            }
        }
        return newArr;
    }
    //push is intentionally generic. This method can be used with call() or apply() on objects resembling arrays.
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="hasClass">
            <header>检测对象是否有哪个类名</header>
            <article>
<div class="note">
    //e.g. 
    //< img id="b0" class="imgb2" > 
    // < img id = "b1" class="imgb2" >
    // < img id="b2" class="imgb2 haha oo"></>
    //jsFuncEs5.hasClass(document.getElementById("b1"),'imgb2'); //true
    //document.getElementById('b1').className; // "imgb2"
    //jsFuncEs5.trim(document.getElementById('b2').className,1);// "imgb2hahaoo"
</div>                
<h2>ES 5</h2>
<div class="code">
    hasClass:function(obj,class){
        if(obj.className && this.trim(obj.className,1)!===""){
            //trim 1 是去掉所有空格
            var arr = obj.className.split(/\s+/);
            //这个正则表达式是因为class可以有多个,判断是否包含
            //也可以imgb2.className.split(" ");通过空格来分割
            return (arr.indexOf(classStr) === -1)?false:true;
        }else{
            return false;
        }
        
    }

</div>

<h2>ES 6</h2>
<div class="code">
    hasClass: function(obj,classStr){
        return (" "+obj.className + " ").indexOf(" "+classStr+" ")> -1;
    }

    等价于
    
    hasClass:function(obj,classStr){
        return obj.className.indexOf(classStr) > -1;
    },
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    

        <section class="main-section" id="addClass">
            <header>添加类名</header>
            <article>
<h2>ES 5</h2>
<div class="code">
    addClass:function(obj,classStr){
        if(obj.length>=1){
            for(var i=0; i < obj.length)
        }
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="titleCaseUp">
            <header>句中单词首字母大写</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="titleCaseUp">
            <header>句中单词首字母大写</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="titleCaseUp">
            <header>句中单词首字母大写</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="titleCaseUp">
            <header>句中单词首字母大写</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
        
        
        <section class="main-section" id="titleCaseUp">
            <header>句中单词首字母大写</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    
    </main>




</body>
<script>
// var str='<html>AIA?[￥%()]';
// console.log(jsFuncEs5.filterStr (str,'html,special','*',']'));
// console.log(new RegExp("[^0-9A-Za-z\\s]"))
</script>

</html>