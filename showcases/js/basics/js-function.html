
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS Functions | Notes</title>
<link rel="stylesheet" href="styles/sass-basics.css">
<script src="js-function-es5.js"></script>
<style>
/* template */
    html,body{min-width:290px;color: #4d4e53;background-color: #ffffff;font-family: 'Open Sans',Arial,sans-serif;line-height: 1.5;}
    #navbar{position:fixed;min-width:290px;top:0px;left:0px;width:300px;height:100%;border-right:solid;border-color:rgba(22, 15, 0, 0.4)}
    header{color:black;font-size: 30px;margin:10px;text-align:center;font-size:1.8em;font-weight:thin;}
    .nav-head{font-weight:900;font-size: 20px;}
    .nav-subhead{font-weight:800}
    #main-doc header{text-align:left;margin:0px;}
    #navbar ul{height:88%;overflow-y:auto;overflow-x:hidden;}
    #navbar li{color: #4d4e53;border:1px solid;border-bottom-width:0px;padding:8px;padding-left:45px;list-style: none;position:relative;left:-50px;width:100%;}
    #navbar a{color: #4d4e53;text-decoration:none;cursor:pointer;} 

    .note{display:block;text-align: left; white-space: pre;position: relative;word-break: normal;word-wrap: normal;line-height: 1;background-color:rgba(228, 214, 29, 0.8);padding:5px;margin:10px;border-left-style:solid;border-left-color: rgb(51, 182, 80);border-left-width: 5px;}

    #main-doc{position: absolute;margin-left:310px;padding:20px;margin-bottom:110px;}
    section article{color: #4d4e53;margin:15px;font-size:0.96em;}
    section li {margin:15px 0px 0px 20px;}

    .code{display:block;text-align: left; white-space: pre;position: relative;word-break: normal;word-wrap: normal;line-height: 1;background-color:rgb(208, 223, 208,0.8);padding:5px;margin:10px;border-radius:5px;}

    @media only screen and (max-width: 815px) {
        /* For mobile phones: */
        #navbar ul{border:1px solid;height:207px;}
        #navbar{background-color:white;position:absolute;top:0;padding:0;margin: 0;width:100%;max-height:275px;border:none;z-index:1;
        border-bottom:2px solid;}
        #main-doc{position: relative;margin-left:0px;margin-top:270px;}
        #main-doc section {/*     padding-top: 240px; */  }
    }
    @media only screen and (max-width: 400px) {
        #main-doc{margin-left:-10px;}
       .note .code{margin-left:-20px; text-align:left;width:100%;padding:5px;padding-left:10px;padding-right:45px;min-width:233px;word-wrap:break-word;position: relative;}

    }

/* main section */


    

</style>

</head>
<body class="bodyss">
    
    <nav id="navbar">
        <header><strong>JS Basics</strong></header>
        <ul>
            <a class="nav-link nav-head" href="#forword" rel="internal">
                <li>FORWORD</li>
            </a>
            <a class="nav-link nav-head" href="#" rel="internal">
                <li>String</li>
            </a>
            <!-- <a class="nav-link nav-subhead" href="#" rel="internal">
                <li>- Function-Method</li>lo
            </a> -->
            <a class="nav-link" href="#trim" rel="internal">
                <li>-- 去除字符串空格 - trim()</li>
            </a>
            <a class="nav-link" href="#changeCase" rel="internal">
                <li>-- 字母大小写切换 - changeCase() </li>
            </a>
            <a class="nav-link" href="#repeatStr" rel="internal">
                <li>-- 字符串循环复制 - repeatStr()</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 字符串替换 - replaceAll()</li>
            </a>
            <a class="nav-link" href="#replaceStr" rel="internal">
                <li>-- 字符替换 - replaceStr()</li>
            </a>
            <a class="nav-link" href="#checkType" rel="internal">
                <li>-- 检测字符串 - checkType()</li>
            </a>
            <a class="nav-link" href="#checkPwd" rel="internal">
                <li>-- 检测密码强度 - checkPwd()</li>
            </a>
            <a class="nav-link" href="#randomWord" rel="internal">
                <li>-- 随机码（toString详解）-randomWord()</li>
            </a>
            <a class="nav-link" href="#countStr" rel="internal">
                <li>-- 查找字符串出现的次数 - countStr()</li>
            </a>
            <a class="nav-link" href="#filterStr" rel="internal">
                <li>-- 过滤字符串 - filterStr()</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
            <a class="nav-link" href="#replaceAll" rel="internal">
                <li>-- 过滤字符串</li>
            </a>
        </ul>
    </nav>

    <main id="main-doc">
   
        <section class="main-section" id="forword">
            <header>FORWORD</header>
            <article>
                开发的时候应该知道，有很多常见的实例操作。比如数组去重，关键词高亮，打乱数组等。这些操作，代码一般不会很多，实现的逻辑也不会很难，因此把一些常见的操作封装成函数，调用的时候，直接调用就好！
                    
                    作者：守候i
                    链接：https://juejin.im/post/5a2a7a5051882535cd4abfce
                    来源：掘金
                    
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="trim">
            <header>Delete Space in String</header>
            <article>
<div class="note">
    //去除空格 type 1-所有空格 2-前后空格 3-前空格 4-后空格
    //ecDo.trim(' 1235asd',1)
    //result：1235asd
    //这个方法有原生的方案代替，但是考虑到有时候开发PC站需要兼容IE8，所以就还是继续保留
</div>
                <h2>ES 5</h2>
                <div class="code">
    trim:function(str,type){
        switch(type){
            case 1:
                return str.replace(/\s+/g,"");
            case 2:
                return str.replace(/(^\s*)|(\s*$)/g,"");
            case 3:
                return str.replace(/(^\s*)/g,"");
            case 4:
                return str.replace();
            default:
                return str;
        }
    },
                    
                </div>
            
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
       


        <section class="main-section" id="changeCase">
            <header>字母大小写切换</header>
            <article>
<div class="note">
    //字母大小写切换
    /*type
    1:首字母大写
    2：首页母小写
    3：大小写转换
    4：全部大写
    5：全部小写
    * */
    //changeCase('asdasd',1)
    //result：Asdasd
</div>
                <h2>ES 5</h2>
                <div class="code">
    changeCase:function(str.type){
        function ToggleCase(str){
            var itemText="";
            str.split("").forEach(
                function(item){
                    if(/^([a-z]+)/.test(item)){
                        itemText += item.toUpperCase();
                    }else if(/^([A-Z]+)/.test(item)){
                        itemText += item.toLowerCase();
                    }else{
                        itemText += item;
                    }
                }
            );
            return itemText;
        }

        switch(type){
            case 1:
                return str.replace(/\w+/g,function(word){
                    return word.substring(0,1).toUpperCase()+word.substring(1).toLowerCase();
                });
            case 2:
                return str.replace(/\w+/g,function(word){
                    return word.substring(0,1).toLowerCase()+word.substring(1).toUpperCase();
                });
            case 3:
                return ToggleCase(str);
            case 4:
                return str.toUpperCase();
            case 5:
                return str.toLowerCase();
            default:
                return str;
        }
    },
                </div>
            </article>
            <p class="nach-oben"><a href="#">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="repeatStr">
            <header>字符串循环复制</header>
            <article>
<div class="note">
    //字符串循环复制
    //repeatStr(str->字符串, count->次数)
    //repeatStr('123',3)
    //"result：123123123"
</div>
                <h2>ES 5</h2>
<div class="code">
    repeatStr:function(str,count){

        var text="";

        for(var i=0; i <= count; i++){
            text += str;
        }     

        return text;

    }
</div>
                <h2>ES 6</h2>
<div class="code">
    repeatStr:function(str,count){

        return str.repeat(count);

    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="replaceAll">
            <header>字符串替换</header>
            <article>
<div class="note">
//replaceAll('这里是上海，中国第三大城市，广东省省会，简称穗，','上海','广州')

//result："这里是广州，中国第三大城市，广东省省会，简称穗，"
</div>
<h2>ES 5</h2>
<div class="code">
    replaceAll : function(str,AFindText,ArepText){

        raRegExp = new RegExp(AFindText,'g');//这里用“i”，就只换第一个
        return str.replace(raRegExp,ArepText);

    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="replaceStr">
            <header>字符替换</header>
            <article>
<div class="note">
//replaceStr(字符串,字符格式, 替换方式,替换的字符（默认*）)
//
//replaceStr('18819322663',[3,5,3],0)
//result：188*****663
//replaceStr('asdasdasdaa',[3,5,3],1)
//result：***asdas***
//replaceStr('1asd88465asdwqe3',[5],0)
//result：*****8465asdwqe3
//replaceStr('1asd88465asdwqe3',[5],1,'+')
//result："1asd88465as+++++"
</div>        
<h2>ES 5</h2>
<div class="code">
    replaceStr:function(str,regArr,type,ARepText){
        var regtext='',
            Reg=null,
            replaceText = ARepText || '*';
        
        if(regArr.length === 3 && type === 0){

            regtext = `(\\w{' +regArr[0]+ '})\\w{` +regArr[1]+ `}(\\w{` +regArr[2]+ `})`;
            Reg = new RegExp(regtext);
            var replaceCount = this.repeatStr(replaceText,regArr[1]);
            //这里只是为了显示出现ARepText || '*'重复的次数

            return str.replace(Reg,'$1' + replaceCount + '$2');
        }
        else if(regArr.length === 3 && type ===1){

            regtext = `\\w{` + regArr[0] + `}(\\w{` +regArr[1] + `})\\w{` +regArr[2]+ `}`;
            Reg = new RegExp (regtext);
            var replaceCount1 = this.repeatStr(replaceText,regArr[0]);
            var replaceCount2 = this.repeatStr(replaceText,regArr[2]);
            return str.replace(Reg,replaceCount1 +'$1' +replaceCount2);

        }
        else if (regArr.length === 1 && type === 0){
            
            regtext = `(^\\w{` +regArr[0]+ `})`;
            Reg = new RegExp(regtext);
            var replaceCount = this.repeatStr(replaceText,regArr[0]);
            return str.replace(Reg,replaceCount);

        }
        else if (regArr.length === 1 && type === 1){
            
            regtext = `(\\w{` +regArr[0]+ `}$)`;
            Reg = new RegExp(regtext);
            var replaceCount = this.repeatStr(replaceText, regArr[0]);
            return str.replace(Reg,replaceCount);

        }
        
    }

    //这里的 $1, $2 是
    replace方法里的自带属性，https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="checkType">
            <header>检测字符串</header>
            <article>
<div class="note">
//checkType('165226226326','phone')
//result：false

// email / 24 hour / cndate / dedate / cnphone / dephone / tel / number / english / text / chinese / lower / upper / 16 colors

</div>
<h2>ES 5</h2>
<div class="code">
    checkType: function(str, type){
        switch(type){
            
            case 'email':
                return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str);
            case '24hour':
                return /^([01][0-9]|[2][0-3]):([0-5][0-9])$/.test(str);
            case 'cndate':
                return /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/.test(str);
            case 'dedate':
                return /^((0[1-9]|[12][0-9]|3[01])-0[1-9]|1[0-2])-([0-9]{4})$/.test(str);
            case 'cnphone':
                return /^1[3|4|5|7|8][0-9]{9}$/.test(str);
            case 'dephone':
                return /^1[6|7][0-9]{7}$/.test(str);
            case 'tel':
                return /^(0\d{2,3}-d{7,8})(-\d{1,4}?)$/.test(str);
            case 'number':
                return /^[0-9]+$/.test(str);
            case 'english':
                return /^[a-zA-Z]+$/.test(str);
            case 'test':
                return /^\w+$/.test(str);
            case 'chinese':
                return /^[\u4E00-\u9FA5]+$/.test(str);
            case 'lower':
                return /^[a-z]+$/.test(str);
            case 'upper':
                return /^[A-Z]+$/.test(str);
            case '16color':
                return /#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/.test(str);
            default:
                return true;

        }
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    
        <section class="main-section" id="checkPwd">
            <header>检测密码强度</header>
            <article>
<div class="note">
//checkPwd('12asdASAD')
//result：3(强度等级为3)
</div>
<h2>ES 5</h2>
<div class="code">
    checkPwd:function(str){

        var nowLv = 0;
        if(str.length < 6){
            return nowLv;
        }
        if(/[0-9]+/.test(str)){
            nowLv ++;
        }
        if(/[a-z]+/.test(str)){
            nowLv ++;
        }
        if(/[A-Z]/.test(str)){
            nowLv ++;
        }
        if(/\.|-|_/.test(str)){
            nowLv ++;
        }
        return nowLv;

    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="randomWord">
            <header>随机码（toString详解）</header>
            <article>
<div class="note">
// count取值范围0 - 36，主要是根据toString(count),不同的进制来转换成不同的结果
//randomWord(10)
//result："2584316588472575"
//randomWord(14)
//result："9b405070dd00122640c192caab84537"
//randomWord(36)
//result："83vhdx10rmjkyb9"
</div>        
<h2>ES 5</h2>
<div class="code">
    randomWord : function(count){
        return Math.random().toString(count).substring(2);
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="countStr">
            <header>查找字符串出现的次数</header>
            <article>
<div class="note">
//可能标题会有点误导，下面我就简单说明一个需求，在字符串'sad44654blog5a1sd67as9dablog4s5d16zxc4sdweasjkblogwqepaskdkblogahseiuadbhjcibloguyeajzxkcabloguyiwezxc967'中找出'blog'的出现次数。代码如下
//var
strTest='sad44654blog5a1sd67as9dablog4s5d16zxc4sdweasjkblogwqepaskdkblogahseiuadbhjcibloguyeajzxkcabloguyiwezxc967'
//countStr(strTest,'blog')
//result：6
</div>        
<h2>ES 5</h2>
<div class="code">
    countStr:function(str,strSplit){
        return str.split(strSplit).length-1;
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>

        <section class="main-section" id="filterStr">
            <header>过滤字符串</header>
            <article>
<div class="note">
//过滤字符串(html标签，表情，特殊字符)
//字符串，替换内容（special-特殊字符,html-html标签,emjoy-emjoy表情,word-小写字母，WORD-大写字母，number-数字,chinese-中文），要替换成什么，默认'',保留哪些特殊字符
//如果需要过滤多种字符，type参数使用,分割，如下栗子
//过滤字符串的html标签，大写字母，中文，特殊字符，全部替换成*,但是特殊字符'%'，'?'，除了这两个，其他特殊字符全部清除
//var str='asd 654a大蠢sasdasdASDQWEXZC6d5#%^*^&*^%^&*$\\"\'#@!()*/-())_\'":"{}? < div > < /div > < img src="" / > 啊实打实大蠢猪自行车这些课程';
// filterStr(str,'html,WORD,chinese,special','*','%?')
//result："asd 654a**sasdasd*********6d5#%^*^&*^%^&*$\"'#@!()*/-())_'":"{}?*****************"
</div>        
<h2>ES 5</h2>
<div class="code">
    filterStr:function(str,type,restr,spstr){
        
        var typeArr = type.split(',');
        _str=str;

        for(var i=0;i < typeArr.length;i++){
            //是否是过滤特殊符号
            if(typeArr[i] === 'special'){
                var pattern,
                    regText = '$()[]{}?\|^*+./\"\'+';
                //是否有哪些特殊符号需要保留
                if(spstr){
                    var _spstr = spstr.split(""),
                        _regText="[^0-9A-Za-z\\s]";
                    for(var j=0;j < _spstr.length;j++){
                        if(regText.indexOf(_spstr[j])===-1){
                            _regText += _spstr[j];
                        }
                        else{
                            _regText += '\\'+_spstr[j];
                        }
                    }
                    _regText += 'J';
                    pattern = new RegExp(_regText,'g');
                }
                else{
                    pattern = new RegExp("[^0-9A-Za-z\\s]",'g')
                }
            }
        }
    }
</div>
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="Reference">
            <header>Reference</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="Reference">
            <header>Reference</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>


        <section class="main-section" id="Reference">
            <header>Reference</header>
            <article>
        
            </article>
            <p class="nach-oben"><a href="#navbar">nach oben</a></p>
            <hr>
        </section>
    
    
    
    
    
    
    
    </main>




</body>
<script>
var str='<html>AIA?[';
console.log(jsFuncEs5.filterStr (str,'html,special','*',''));

</script>

</html>