<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Matrix 2D 3 D</title>
<style>
    .matrix_box { width:150px; height:150px; background-color:#a0b3d6; }
</style>

<script>
function huanyuan(){
    document.querySelector('#matrixBox1').style.MozTransform = 'matrix(1,0,0,1,0,0)';
    document.querySelector('#matrixBox1').style.webkitTransform = 'matrix(1,0,0,1,0,0)';
    document.querySelector('#matrixBox2').style.MozTransform = 'translate(0px,0px)';
    document.querySelector('#matrixBox2').style.webkitTransform = 'translate(0px,0px)';
    document.querySelector('#matrixBox3').style.MozTransform = 'matrix(1,0,0,1,0,0)';
    document.querySelector('#matrixBox3').style.webKitTransform = 'matrix(1,0,0,1,0,0)';
    document.querySelector('#matrixDetail').innerHTML = 'matrix(1,0,0,1,0,0)';
}

function matrixButton1(){
    document.querySelector('#matrixBox1').style.MozTransform='matrix(1,0,0,1,30,30)';
    document.querySelector('#matrixBox1').style.webkitTransform = 'matrix(1,0,0,1,30,30)';
}

function matrixButton2(){
    document.querySelector('#matrixBox2').style.MozTransform = 'translate(30px,30px)';
    document.querySelector('#matrixBox2').style.webkitTransform = 'translate(30px,30px)';
}

var matrixRangeX=1;
var matrixRangeY=1;

function matrixButton3(value){
    matrixRangeX = value;
    document.querySelector('#matrixBox3').style.MozTransform = 'matrix('+value+',0,0,'+matrixRangeY+',0,0)';
     document.querySelector('#matrixBox3').style.webKitTransform = 'matrix('+value+',0,0,'+matrixRangeY+',0,0)';
     document.querySelector('#matrixDetail').innerHTML='matrix('+value+ ',0,0,'+matrixRangeY+',0,0)';
}

function matrixButton4(value){
    matrixRangeY=value;
    document.querySelector('#matrixBox3').style.MozTransform = 'matrix('+matrixRangeX+',0,0,'+value+',0,0)';
    document.querySelector('#matrixBox3').style.webKitTransform='matrix('+matrixRangeX+',0,0,'+value+',0,0)';
    document.querySelector('#matrixDetail').innerHTML='matrix('+matrixRangeX+',0,0,'+value+',0,0)';
}


</script>
</head>

<body>
    <pre>
        <a href="https://www.zhangxinxu.com/wordpress/2012/06/css3-transform-matrix-%E7%9F%A9%E9%98%B5/" target="blank">参考文章-理解CSS3 transform中的Matrix(矩阵)</a><br>
        <strong>transform: matrix(a,b,c,d,e,f);</strong>
        <img src="images/css-transforms-matrix3.gif">
        <img src="images/css-transforms-matrix5.gif">
        <img src="images/2012-06-07_160412.png">

        <button style="width: 500px; height:100px;" onclick="huanyuan()">还原</button>
    </pre>
    <div id="matrixBox1" class="matrix_box"></div>
    <p><button id="matrixButton1" type="button" onclick="matrixButton1()">点击应用matrix(1,0,0,1,30,30)</button></p><a href="https://www.zhangxinxu.com/study/201206/css3-transform-matrix-30-30-step.html" target="blank">分部分解</a> 

    <hr>

    <div id="matrixBox2" class="matrix_box"></div>
    <p><button id="matrixButton2" type="button" onclick="matrixButton2()">点击应用translate(30,30)</button></p>

    <hr>

    目前属性值为：<p id="matrixDetail">matrix(1,0,0,1,0,0)</p>
    <p>x轴比例(1-3)：<input type="range" id="matrixRangeX" value="1" min="1" max="3" step="0.1" autocomplete="off" onchange="matrixButton3(this.value)"/></p>
    
    <p>y轴比例(1-3)：<input type="range" id="matrixRangeY" value="1" min="1" max="3" step="0.1" autocomplete="off" onchange="matrixButton4(this.value)"/></p>

    <div id="matrixBox3" class="matrix_box"></div>

    <hr>
<pre>
    Rotate （假设角度为θ）
    matrix(cosθ,sinθ,-sinθ,cosθ,0,0)

    结合矩阵公式，就有：
    
    x' = x*cosθ-y*sinθ+0 = x*cosθ-y*sinθ
    y' = x*sinθ+y*cosθ+0 = x*sinθ+y*cosθ
    
    <hr>

    Skew 
    matrix(1,tan(θy),tan(θx),1,0,0)

    套用矩阵公式计算结果为：
    
    x' = x+y*tan(θx)+0 = x+y*tan(θx)
    y' = x*tan(θy)+y+0 = x*tan(θy)+y

</body>

</html>